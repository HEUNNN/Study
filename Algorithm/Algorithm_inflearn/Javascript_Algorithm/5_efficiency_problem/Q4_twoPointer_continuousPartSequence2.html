<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>연속 부분 수열2</title>
</head>

<body>
    <p>N개의 수로 이루어진 수열이 주어집니다.
        이 수열에서 연속부분수열의 합이 특정숫자 M이하가 되는 경우가 몇 번 있는지 구하는 프로그
        램을 작성하세요.
        만약 N=5, M=5이고 수열이 다음과 같다면
        1 3 1 2 3
        합이 5이하가 되는 연속부분수열은 {1}, {3}, {1}, {2}, {3}, {1, 3}, {3, 1}, {1, 2}, {2, 3},
        {1, 3, 1}로 총 10가지입니다.</p>
    <script>
        //나의 답
        /*
        function solution(m, arr) {
            let answer = 0, sum = 0, lt = 0;
            for (let rt = 0; rt < arr.length; rt++) {
                sum += arr[rt];
                if (sum < m) {
                    answer++;
                    if (rt === arr.length - 1) {
                        sum = 0;
                        rt = lt;
                        lt++;
                    }
                } else if (sum >= m) {
                    if (sum === m) {
                        answer++;
                    }
                    sum = 0;
                    rt = lt;
                    lt++;

                }
            }
            return answer;
        }
        */
       //강의 답

       function solution(m, arr){
           let answer = 0, sum = 0, lt = 0;
           for(let rt = 0;rt < arr.length;rt ++){
               sum += arr[rt];
               while(sum > m){
                   sum -= arr[lt++];
               }
               answer += rt - lt +1;
           }
           return answer;
       }

        //let a = [1, 3, 1, 2, 3]; //m=5, 답: 10
        //let a = [1, 2, 1, 1, 4, 3, 2]; //m=4, 답:12
        let a = [1, 1, 1, 1] // m=5, 답: 10
        console.log(solution(5, a));
    </script>
</body>

</html>