<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>졸업 선물</title>
</head>

<body>
    <p>선생님은 올해 졸업하는 반 학생들에게 졸업선물을 주려고 합니다.
        학생들에게 인터넷 쇼핑몰에서 각자 원하는 상품을 골라 그 상품의 가격과 배송비를 제출하라
        고 했습니다. 선생님이 가지고 있는 예산은 한정되어 있습니다.
        현재 예산으로 최대 몇 명의 학생에게 선물을 사줄 수 있는지 구하는 프로그램을 작성하세요.
        선생님은 상품 하나를 50% 할인해서(반 가격) 살 수 있는 쿠폰을 가지고 있습니다. 배송비는
        할인에 포함되지 않습니다.</p>
    <script>
        function solution(m, product) {
            let answer = 0;
            let n = product.length;
            let sortArr = product.sort((a, b) => (a[0] + a[1]) - (b[0] + b[1]));
            let max = Number.MIN_SAFE_INTEGER;
            //let tmp  = JSON.parse(JSON.stringify(sortArr)); //깊은 복사
            for (let i = 0; i < sortArr.length; i++) {
                let count = 1;
                let money = m - (sortArr[i][0] / 2) - sortArr[i][1];
                for (let j = 0; j < sortArr.length; j++) {
                    if (i !== j && (sortArr[j][0] + sortArr[j][1]) > money) { break; }
                    if (i !== j) {
                        money = money - sortArr[j][0] - sortArr[j][1];
                        if (money >= 0) {
                            count++;
                        }
                    }
                }
                if (count > max) {
                    max = count;
                }
            }
            return answer = max;
        }

        //let arr = [[6, 6], [2, 2], [4, 3], [4, 5], [10, 3]]; //m = 28
        let arr = [[8, 6], [2, 2], [4, 3], [4, 5], [12, 1]]; //m = 41
        console.log(solution(41, arr));
    </script>
</body>

</html>